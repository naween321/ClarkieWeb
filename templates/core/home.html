{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clarkie Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }

        body {
            width: 100%;
            height: 100vh;
            overflow: hidden;
        }

        .dashboard-container {
            display: flex;
            height: 100vh;
            width: 100%;
        }

        /* Left Sidebar */
        .sidebar {
            width: 280px;
            background-color: #333;
            color: white;
            display: flex;
            flex-direction: column;
            height: 100%;
            overflow-y: auto;
        }

        .sidebar-header {
            display: flex;
            align-items: center;
            padding: 20px;
            gap: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .logo {
            width: 50px;
            height: 50px;
        }

        .sidebar-title {
            color: #C8102E;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .hamburger {
            margin-left: auto;
            cursor: pointer;
        }

        .search-section {
            padding: 15px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .filter-row {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 10px;
            color: #ccc;
        }

        .filter-icon {
            transform: rotate(90deg);
        }

        .search-container {
            display: flex;
            align-items: center;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            padding: 8px 12px;
        }

        .search-container input {
            background: transparent;
            border: none;
            color: white;
            width: 100%;
            margin-left: 5px;
            outline: none;
        }

        .search-container input::placeholder {
            color: #aaa;
        }

        .recent-questions {
            padding: 15px 20px;
        }

        .recent-questions h3 {
            color: #ccc;
            font-size: 0.9rem;
            font-weight: normal;
            margin-bottom: 15px;
        }

        .question-list {
            list-style: none;
        }

        .question-list li {
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            font-size: 0.9rem;
        }

        .sidebar-footer {
            margin-top: auto;
            padding: 20px;
            display: flex;
            justify-content: flex-start;
        }

        .settings-icon {
            cursor: pointer;
        }

        .files-icon {
            margin-top: 20px;
            cursor: pointer;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            background-color: #f4f4f4;
            padding: 30px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        .header-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .greeting {
            font-size: 1.8rem;
            font-weight: 600;
        }

        .user-name {
            color: #C8102E;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .profile-pic {
            width: 32px;
            height: 32px;
            border-radius: 50%;
        }

        .user-fullname {
            font-size: 0.9rem;
        }

        .questions-section h2 {
            font-size: 1.3rem;
            margin-bottom: 20px;
        }

        .question-card {
            background-color: white;
            border-radius: 8px;
            padding: 15px 20px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        .question-info h3 {
            font-size: 1rem;
            font-weight: 500;
            margin-bottom: 5px;
        }

        .question-meta {
            display: flex;
            gap: 10px;
            font-size: 0.75rem;
            color: #666;
        }

        .views {
            color: #C8102E;
            font-weight: 600;
        }

        .arrow-button {
            background-color: #C8102E;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            cursor: pointer;
        }

        .chat-input-container {
            margin-top: auto;
            background-color: white;
            border-radius: 15px;
            padding: 20px;
            display: flex;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            align-items: center;
        }

        .chat-input {
            flex: 1;
            border: none;
            padding: 10px 0;
            font-size: 1rem;
            outline: none;
        }

        .chat-button {
            background-color: #C8102E;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            font-weight: 500;
            cursor: pointer;
            font-size: 0.9rem;
        }

        /* Right Sidebar */
        .sidebar-right {
            width: 280px;
            background-color: white;
            border-left: 1px solid #eee;
            padding: 30px 20px;
            overflow-y: auto;
        }

        .sidebar-right h2 {
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        .trending-list {
            list-style: none;
        }

        .trending-list li {
            padding: 10px 0;
            border-bottom: 1px solid #eee;
            font-size: 0.9rem;
        }

        /* Additional styles for question-answer functionality */
        .answer-container {
            display: none;
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        .answer-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .answer-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #333;
        }

        .back-button {
            background: none;
            border: none;
            color: #666;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.9rem;
        }

        .answer-content {
            line-height: 1.6;
            color: #444;
        }
    </style>
</head>
<body>
<div class="dashboard-container">
    <!-- Left Sidebar -->
    <div class="sidebar">
        <div class="sidebar-header">
            <img src="{% static 'core/logo.png' %}" alt="Clark University Logo" class="logo">
            <h1 class="sidebar-title" style="color: white">Clarkie</h1>
            <div class="hamburger">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                     stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
            </div>
        </div>

        <div class="search-section">
            <div class="filter-row">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                     stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                     class="filter-icon">
                    <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>
                </svg>
                Filter
            </div>
            <div class="search-container">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                     stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
                <input type="text" placeholder="Search for conversation">
            </div>
        </div>

        <div class="recent-questions">
            <h3>Recent Questions</h3>
            <ul class="question-list">
                <li>Spring 2023 registration deadline</li>
                <li>How to apply for on-campus housing</li>
                <li>Clark library hours today</li>
                <li>Academic advising appointment</li>
                <li>Financial aid office location</li>
                <li>Campus dining menu this week</li>
                <li>Psychology major requirements</li>
                <li>Parking permit application</li>
                <li>Student health services hours</li>
            </ul>
        </div>

        <div class="sidebar-footer">
            <div class="settings-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                     stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="3"></circle>
                    <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                </svg>
            </div>
            <div class="logout-icon" style="margin-left: 20px;" title="Click to logout">
                <a href="{% url 'user_logout' %}" style="color: white">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                        <polyline points="16 17 21 12 16 7"></polyline>
                        <line x1="21" y1="12" x2="9" y2="12"></line>
                    </svg>
                </a>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="header-section">
            <h1 class="greeting">Good Afternoon, <span class="user-name">{{ request.user.first_name | title }}</span></h1>
            <div class="user-profile">
                <img src="https://i.pravatar.cc/100?u=sara" alt="Sara Parker" class="profile-pic">
                <span class="user-fullname">Sara Parker</span>
            </div>
        </div>

        <!-- Questions Section - Will be hidden when showing answer -->
        <div class="questions-section" id="questionsSection">
            <h2>Popular Questions at Clark</h2>

            <div class="question-card">
                <div class="question-info">
                    <h3>Finding Study Spaces on Campus</h3>
                    <div class="question-meta">
                        <span class="views">+10K</span>
                        <span>Conversation</span>
                    </div>
                </div>
                <button class="arrow-button" onclick="showAnswer('Finding Study Spaces on Campus', 'Clark University offers numerous study spaces across campus. The Goddard Library has individual study carrels, group study rooms, and quiet zones. The Academic Commons provides collaborative spaces. You can also find study areas in the University Center, Lasry Center for Bioscience, and most academic buildings. Many spaces are open 24/7 with your Clark ID card.')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                         stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                        <polyline points="12 5 19 12 12 19"></polyline>
                    </svg>
                </button>
            </div>

            <div class="question-card">
                <div class="question-info">
                    <h3>Financial Aid Application Deadlines</h3>
                    <div class="question-meta">
                        <span class="views">+10K</span>
                        <span>Conversation</span>
                    </div>
                </div>
                <button class="arrow-button" onclick="showAnswer('Financial Aid Application Deadlines', 'For Clark University, the priority deadline for submitting the FAFSA is February 1st for continuing students and January 15th for incoming freshmen. The CSS Profile deadline is also February 1st. Scholarship applications should be submitted by March 1st. Late applications are still accepted but may receive reduced funding consideration.')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                         stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                        <polyline points="12 5 19 12 12 19"></polyline>
                    </svg>
                </button>
            </div>

            <div class="question-card">
                <div class="question-info">
                    <h3>Campus Dining Options and Hours</h3>
                    <div class="question-meta">
                        <span class="views">+10K</span>
                        <span>Conversation</span>
                    </div>
                </div>
                <button class="arrow-button" onclick="showAnswer('Campus Dining Options and Hours', 'Clark University offers several dining options: The Higgins Café (7:30am-8:00pm weekdays, 10:00am-7:00pm weekends), Bistro (11:00am-2:00pm weekdays), The Den (11:00am-12:00am daily), and Academic Commons Café (8:00am-4:00pm weekdays). Each location offers a variety of meal options from full entrées to grab-and-go items. Special dietary needs can be accommodated at all locations.')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                         stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                        <polyline points="12 5 19 12 12 19"></polyline>
                    </svg>
                </button>
            </div>

            <div class="question-card">
                <div class="question-info">
                    <h3>Accessing Academic Advising Services</h3>
                    <div class="question-meta">
                        <span class="views">+10K</span>
                        <span>Conversation</span>
                    </div>
                </div>
                <button class="arrow-button" onclick="showAnswer('Accessing Academic Advising Services', 'To access academic advising at Clark University, first contact your assigned faculty advisor via email to schedule an appointment. If you're unsure who your advisor is, check your ClarkYOU account or contact the Academic Advising Center (AAC) located in the Alumni Student Engagement Center, 3rd floor. The AAC offers walk-in hours Monday-Friday from 1-3pm and appointments through their online booking system.')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                         stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                        <polyline points="12 5 19 12 12 19"></polyline>
                    </svg>
                </button>
            </div>

            <div class="question-card">
                <div class="question-info">
                    <h3>Course Registration Process Explained</h3>
                    <div class="question-meta">
                        <span class="views">+10K</span>
                        <span>Conversation</span>
                    </div>
                </div>
                <button class="arrow-button" onclick="showAnswer('Course Registration Process Explained', 'The Clark University course registration process occurs in several phases: 1) Check your registration time slot on ClarkYOU, 2) Meet with your academic advisor to discuss course choices and get your PIN, 3) Create a planned schedule with alternatives in case your first choices are full, 4) Register online through ClarkYOU when your time slot opens, 5) During add/drop period, you can make changes through the first two weeks of the semester. Registration typically opens in November for spring courses and in April for fall courses.')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                         stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                        <polyline points="12 5 19 12 12 19"></polyline>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Answer Section - Hidden by default, will be shown when a question is clicked -->
        <div class="answer-container" id="answerContainer">
            <div class="answer-header">
                <h2 class="answer-title" id="answerTitle">Question Title</h2>
                <button class="back-button" onclick="showQuestions()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="19" y1="12" x2="5" y2="12"></line>
                        <polyline points="12 19 5 12 12 5"></polyline>
                    </svg>
                    Back to questions
                </button>
            </div>
            <div class="answer-content" id="answerContent">
                Answer will appear here.
            </div>
        </div>

        <div class="chat-input-container">
            <input type="text" placeholder="Ask Clarkie Anything About Clark" class="chat-input" id="userQuestion">
            <button class="chat-button" onclick="askQuestion()">Send</button>
        </div>
    </div>

    <!-- Right Sidebar -->
    <div class="sidebar-right">
        <h2>Trending Search</h2>
        <ul class="trending-list">
            <li>New Student Orientation</li>
            <li>Fee's Structure</li>
            <li>Housing Selection</li>
            <li>Campus Events</li>
            <li>Career Development</li>
            <li>Library Resources</li>
        </ul>
    </div>
</div>

<script>
    // Function to display an answer and hide the questions
    function showAnswer(questionTitle, answerText) {
        document.getElementById('questionsSection').style.display = 'none';
        document.getElementById('answerContainer').style.display = 'block';
        document.getElementById('answerTitle').textContent = questionTitle;
        document.getElementById('answerContent').textContent = answerText;
    }

    // Function to go back to questions
    function showQuestions() {
        document.getElementById('questionsSection').style.display = 'block';
        document.getElementById('answerContainer').style.display = 'none';
    }

    // Function for asking a new question
    function askQuestion() {
        const userQuestion = document.getElementById('userQuestion').value;
        if (userQuestion.trim() !== '') {
            // Default answer for any user question
            showAnswer(userQuestion, 'Thank you for your question. Our team is working on providing the most accurate information for your query. This typically takes 24-48 hours. You\'ll receive a notification when an answer is available.');
            document.getElementById('userQuestion').value = '';
        }
    }
</script>
</body>
</html>